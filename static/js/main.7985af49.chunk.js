(this["webpackJsonpapp-1"]=this["webpackJsonpapp-1"]||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/complainify.bc7f0fe6.png"},102:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(22),l=a.n(i),r=(a(35),a(23)),o=a(9),m=a.n(o),c=a(24),u=a(25),d=a(26),h=a(28),p=a(27),g=a(3),f=a(29),v=a(37),b=function(e){function t(e){var a;return Object(u.a)(this,t),a=Object(h.a)(this,Object(p.a)(t).call(this,e)),localStorage.setItem("name","paras"),a.state={name:"",email:"",password:"",age:null,confirmPassword:"",passwordClass:"input",exclamation:null,submitClass:"button is-info",submitState:!0,emailFieldClass:"input",emailFieldAfterRequest:"",isLoading:!1,isEmailValid:!1},a.exclamation=n.a.createElement("div",null,n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-exclamation-triangle"})),n.a.createElement("p",{className:"help is-danger"},"Password Length Must Be greater Than 8")),a.onSubmitHandler=a.onSubmitHandler.bind(Object(g.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(g.a)(a)),a.onBlurHandler=a.onBlurHandler.bind(Object(g.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"validateSubmit",value:function(){if(this.state.submitState){var e=!1;this.state.password.length>=8&&(e=this.state.confirmPassword===this.state.password);var t=this.state.isEmailValid;if(e&&t&&""!==this.state.name)return this.setState({submitState:!1})}else if(!this.state.submitState){var a=!1;this.state.password.length>=8&&(a=this.state.confirmPassword===this.state.password);var s=this.state.isEmailValid;if(!a||!s||""===this.state.name)return this.setState({submitState:!0})}}},{key:"componentDidUpdate",value:function(){this.validateSubmit()}},{key:"onSubmitHandler",value:function(e){var t=this;this.setState({submitClass:"button is-primary is-outlined is-loading"});var a=this.state,s=a.email,n=a.name,i=a.password,l=a.age;console.log(localStorage.getItem("name"));var r=JSON.stringify({Email:s,name:n,password:i,age:l}),o=new Headers;o.append("content-type","application/json");var u=new Request("http://localhost:3001/users",{method:"POST",headers:o,body:r});fetch(u).then(function(){var e=Object(c.a)(m.a.mark((function e(a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.json();case 3:(s=e.sent).token&&localStorage.setItem("token",s.token),console.log(s),setTimeout((function(){t.setState({name:"",email:"",password:"",age:null,confirmPassword:"",passwordClass:"input",exclamation:null,submitClass:"button is-info",submitState:!0,emailFieldClass:"input",emailFieldAfterRequest:"",isLoading:!1,isEmailValid:!1})}),1e3),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),setTimeout((function(){t.setState({submitClass:"button is-warning is-outlined"})}),1e3),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({submitClass:"button is-danger is-outlined"}),console.log(e.message)})),e.preventDefault()}},{key:"onChangeHandler",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value)),this.setState({isSubmitted:!1})}},{key:"onBlurHandler",value:function(e){var t=this;if("password"===e.target.name)return e.target.value.length<8?this.setState({passwordClass:"input is-danger",exclamation:this.exclamation}):this.setState({passwordClass:"input",exclamation:null});if("email"===e.target.name&&v.default.isEmail(e.target.value)){this.setState({isLoading:!0,emailFieldAfterRequest:null});var a=new Headers;a.append("content-type","application/json");var s={method:"GET",headers:a},i=new Request("http://localhost:3001/users/find/".concat(e.target.value),s);fetch(i).then((function(e){setTimeout((function(){t.setState({isLoading:!1}),400===e.status?t.setState({emailFieldClass:"input is-danger",emailFieldAfterRequest:n.a.createElement("div",null,n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-exclamation-triangle"})),n.a.createElement("p",{className:"help is-danger"},"Email Already Taken or Email is Not Valid"))}):200===e.status&&t.setState({isEmailValid:!0,emailFieldClass:"input is-success",emailFieldAfterRequest:n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-check"}))}),console.log(e.status)}),1e3)})).catch((function(e){console.log(e.message)}))}}},{key:"render",value:function(){return n.a.createElement("div",{className:"container is-fluid"},n.a.createElement("div",{className:"level",style:{marginTop:10}},n.a.createElement("p",{className:"level-item has-text-centered"},n.a.createElement("img",{src:a(101),className:"image is-128x128",alt:"anonymous"}))),n.a.createElement("h1",{style:{textAlign:"center",fontWeight:"bold",fontSize:30}},"Anonimity"),n.a.createElement("div",{className:"box",style:{marginTop:10,background:"#f0f0f0"}},n.a.createElement("div",{className:"container is-fluid"},n.a.createElement("h1",{style:{marginBottom:10,fontWeight:"bold"}},"Sign Up"),n.a.createElement("form",{onSubmit:this.onSubmitHandler},n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"name",name:"name",placeholder:"Name",onChange:this.onChangeHandler,value:this.state.name,onBlur:this.onBlurHandler,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control has-icons-right"},n.a.createElement("input",{className:this.state.emailFieldClass,type:"email",name:"email",placeholder:"Email",onChange:this.onChangeHandler,value:this.state.email,onBlur:this.onBlurHandler,required:!0}),this.state.emailFieldAfterRequest),this.state.isLoading?n.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"30%"):null),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control has-icons-right"},n.a.createElement("input",{className:this.state.passwordClass,type:"password",name:"password",placeholder:"Password",onChange:this.onChangeHandler,value:this.state.password,onBlur:this.onBlurHandler,required:!0}),this.state.exclamation)),n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"number",name:"age",placeholder:"age",onChange:this.onChangeHandler,value:this.state.age,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.onChangeHandler,value:this.state.confirmPassword,required:!0})),n.a.createElement("button",{disabled:this.state.submitState,className:this.state.submitClass,type:"submit"},"Sign Up")))))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));setInterval((function(){l.a.render(n.a.createElement(b,null),document.getElementById("root"))}),1e3),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,a){e.exports=a(102)},35:function(e,t,a){}},[[30,1,2]]]);
//# sourceMappingURL=main.7985af49.chunk.js.map