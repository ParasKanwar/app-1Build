(this["webpackJsonpapp-1"]=this["webpackJsonpapp-1"]||[]).push([[0],{101:function(e,a,t){e.exports=t.p+"static/media/complainify.bc7f0fe6.png"},102:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),i=t(22),l=t.n(i),r=(t(35),t(23)),o=t(9),m=t.n(o),c=t(24),u=t(25),d=t(26),h=t(28),p=t(27),g=t(3),f=t(29),v=t(37),b=function(e){function a(e){var t;return Object(u.a)(this,a),t=Object(h.a)(this,Object(p.a)(a).call(this,e)),localStorage.setItem("name","paras"),t.state={name:"",email:"",password:"",age:null,confirmPassword:"",passwordClass:"input",exclamation:null,submitClass:"button is-info",submitState:!0,emailFieldClass:"input",emailFieldAfterRequest:"",isLoading:!1,isEmailValid:!1},t.exclamation=n.a.createElement("div",null,n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-exclamation-triangle"})),n.a.createElement("p",{className:"help is-danger"},"Password Length Must Be greater Than 8")),t.onSubmitHandler=t.onSubmitHandler.bind(Object(g.a)(t)),t.onChangeHandler=t.onChangeHandler.bind(Object(g.a)(t)),t.onBlurHandler=t.onBlurHandler.bind(Object(g.a)(t)),t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"validateSubmit",value:function(){if(this.state.submitState){var e=!1;this.state.password.length>=8&&(e=this.state.confirmPassword===this.state.password);var a=this.state.isEmailValid;if(e&&a&&""!==this.state.name)return this.setState({submitState:!1})}else if(!this.state.submitState){var t=!1;this.state.password.length>=8&&(t=this.state.confirmPassword===this.state.password);var s=this.state.isEmailValid;if(!t||!s||""===this.state.name)return this.setState({submitState:!0})}}},{key:"componentDidUpdate",value:function(){this.validateSubmit()}},{key:"onSubmitHandler",value:function(e){var a=this;this.setState({submitClass:"button is-primary is-outlined is-loading"});var t=this.state,s=t.email,n=t.name,i=t.password,l=t.age;console.log(localStorage.getItem("name"));var r=JSON.stringify({Email:s,name:n,password:i,age:l}),o=new Headers;o.append("content-type","application/json");var u=new Request("http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com/users",{method:"POST",headers:o,body:r});fetch(u).then(function(){var e=Object(c.a)(m.a.mark((function e(t){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:(s=e.sent).token&&localStorage.setItem("token",s.token),console.log(s),setTimeout((function(){a.setState({name:"",email:"",password:"",age:null,confirmPassword:"",passwordClass:"input",exclamation:null,submitClass:"button is-info",submitState:!0,emailFieldClass:"input",emailFieldAfterRequest:"",isLoading:!1,isEmailValid:!1})}),1e3),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),setTimeout((function(){a.setState({submitClass:"button is-warning is-outlined"})}),1e3),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){a.setState({submitClass:"button is-danger is-outlined"}),console.log(e.message)})),e.preventDefault()}},{key:"onChangeHandler",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value)),this.setState({isSubmitted:!1})}},{key:"onBlurHandler",value:function(e){var a=this;if("password"===e.target.name)return e.target.value.length<8?this.setState({passwordClass:"input is-danger",exclamation:this.exclamation}):this.setState({passwordClass:"input",exclamation:null});if("email"===e.target.name&&v.default.isEmail(e.target.value)){this.setState({isLoading:!0,emailFieldAfterRequest:null});var t=new Headers;t.append("content-type","application/json");var s={method:"GET",headers:t},i=new Request("http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com/users/find/".concat(e.target.value),s);fetch(i).then((function(e){setTimeout((function(){a.setState({isLoading:!1}),400===e.status?a.setState({emailFieldClass:"input is-danger",emailFieldAfterRequest:n.a.createElement("div",null,n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-exclamation-triangle"})),n.a.createElement("p",{className:"help is-danger"},"Email Already Taken or Email is Not Valid"))}):200===e.status&&a.setState({isEmailValid:!0,emailFieldClass:"input is-success",emailFieldAfterRequest:n.a.createElement("span",{className:"icon is-small is-right"},n.a.createElement("i",{className:"fas fa-check"}))}),console.log(e.status)}),1e3)})).catch((function(e){console.log(e.message)}))}}},{key:"render",value:function(){return n.a.createElement("div",{className:"container is-fluid"},n.a.createElement("div",{className:"level",style:{marginTop:10}},n.a.createElement("p",{className:"level-item has-text-centered"},n.a.createElement("img",{src:t(101),className:"image is-128x128",alt:"anonymous"}))),n.a.createElement("h1",{style:{textAlign:"center",fontWeight:"bold",fontSize:30}},"Anonimity"),n.a.createElement("div",{className:"box",style:{marginTop:10,background:"#f0f0f0"}},n.a.createElement("div",{className:"container is-fluid"},n.a.createElement("h1",{style:{marginBottom:10,fontWeight:"bold"}},"Sign Up"),n.a.createElement("form",{onSubmit:this.onSubmitHandler},n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"name",name:"name",placeholder:"Name",onChange:this.onChangeHandler,value:this.state.name,onBlur:this.onBlurHandler,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control has-icons-right"},n.a.createElement("input",{className:this.state.emailFieldClass,type:"email",name:"email",placeholder:"Email",onChange:this.onChangeHandler,value:this.state.email,onBlur:this.onBlurHandler,required:!0}),this.state.emailFieldAfterRequest),this.state.isLoading?n.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"30%"):null),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control has-icons-right"},n.a.createElement("input",{className:this.state.passwordClass,type:"password",name:"password",placeholder:"Password",onChange:this.onChangeHandler,value:this.state.password,onBlur:this.onBlurHandler,required:!0}),this.state.exclamation)),n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"number",name:"age",placeholder:"age",onChange:this.onChangeHandler,value:this.state.age,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("input",{className:"input",type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.onChangeHandler,value:this.state.confirmPassword,required:!0})),n.a.createElement("button",{disabled:this.state.submitState,className:this.state.submitClass,type:"submit"},"Sign Up")))))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));setInterval((function(){l.a.render(n.a.createElement(b,null),document.getElementById("root"))}),1e3),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,a,t){e.exports=t(102)},35:function(e,a,t){}},[[30,1,2]]]);
//# sourceMappingURL=main.7bf0974d.chunk.js.map