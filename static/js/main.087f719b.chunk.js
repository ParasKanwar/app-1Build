(this["webpackJsonpapp-1"]=this["webpackJsonpapp-1"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(41),l=a.n(i),r=(a(49),a(50),a(10)),o=a(11),c=a(13),m=a(12),u=a(4),d=a(14),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={counter:1,date:(new Date).getTime(),List:[100],ProgressBar:"Click me",isLoading:null},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.progress=s.a.createElement("progress",{class:"progress is-small is-primary",max:"100"},"15%"),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){this.setState({counter:this.state.counter+1,ProgressBar:this.progress,isLoading:"is-loading"}),console.log(localStorage.getItem("token"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container is-fluid"},s.a.createElement("h1",null,"Hello This is My Component ",this.state.counter," ",this.state.date),s.a.createElement("ul",null,this.state.List.map((function(e){return s.a.createElement("li",null,e)}))),s.a.createElement("button",{className:"button is-primary "+this.state.isLoading,onClick:this.handleClick,disabled:!this.state.ProgressBar},"Click Me"),s.a.createElement("div",{className:"container is-fluid"},s.a.createElement("div",{className:"notification"},this.state.ProgressBar),s.a.createElement("div",{className:"notification is-primary"},"Hello")))}}]),t}(s.a.Component),p=a(15),g=a(16),f=a.n(g),v=a(20),b=function(e){return s.a.createElement("div",null,s.a.createElement("img",{src:a(52),className:"image is-128x128",alt:"anonymous"}),s.a.createElement("h1",{style:{fontWeight:"bold",fontSize:30}},null))},E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",isSignUpLoading:!1,isLoginButtonLoading:!1,Disabled:!0,isError:!1,invalidCredentials:!1},a.onChangeHandler=a.onChangeHandler.bind(Object(u.a)(a)),a.onSubmitHandler=a.onSubmitHandler.bind(Object(u.a)(a)),a.onSignUpButtonHandler=a.onSignUpButtonHandler.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateData",value:function(){this.state.password.length>8&&""!==this.state.email&&this.state.Disabled?this.setState({Disabled:!1}):!this.state.Disabled&&(this.state.password.length<8||""===this.state.email)&&this.setState({Disabled:!0})}},{key:"componentDidUpdate",value:function(){this.validateData()}},{key:"onSubmitHandler",value:function(e){var t=this;this.setState({isLoginButtonLoading:!0});var a=new Headers,n={Email:this.state.email,password:this.state.password};a.append("content-type","application/json");var s={method:"POST",headers:a,body:JSON.stringify(n)},i=new Request("http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com/users/login",s);fetch(i).then(function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,401===a.status&&t.setState({invalidCredentials:!0,isLoginButtonLoading:!1}),e.next=4,a.json();case 4:if(!(n=e.sent).token){e.next=9;break}return localStorage.setItem("token",n.token),setTimeout((function(){t.props.history.push("/home")}),1e3),e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.setState({invalidCredentials:!0,isLoginButtonLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({isError:!0,isLoginButtonLoading:!1})})),e.preventDefault()}},{key:"onChangeHandler",value:function(e){var t;this.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,"invalidCredentials",!1),Object(p.a)(t,"isError",!1),t))}},{key:"onSignUpButtonHandler",value:function(e){var t=this;this.setState({isSignUpLoading:!0}),setTimeout((function(){t.props.history.push("/registration")}),500)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"box"},s.a.createElement("div",{style:{display:"flex",flexDirection:"column|row",justifyContent:"center"}},s.a.createElement(b,null)),s.a.createElement("h1",{style:{fontSize:30,color:"gray",fontFamily:"courier",fontWeight:"bolder"}},"Anonimity(LogIn)")),s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("div",{className:"notification",style:{width:350,background:"#ffffff",boxShadow:"0px 15px 32px -23px"}},s.a.createElement("form",{onSubmit:this.onSubmitHandler},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",name:"email",placeholder:"Username",value:this.state.email,onChange:this.onChangeHandler}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangeHandler}))),s.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},s.a.createElement("button",{type:"submit",disabled:this.state.Disabled,className:"button is-success is-fullwidth ".concat(this.state.isLoginButtonLoading?"is-loading":null),style:{marginBottom:10}},"LogIn"),s.a.createElement("h1",{style:{fontWeight:"bolder",marginBottom:10}},"OR"),s.a.createElement("button",{onClick:this.onSignUpButtonHandler,type:"button",className:"button is-info is-outlined is-fullwidth ".concat(this.state.isSignUpLoading?"is-loading":null)},"SignUp"))),this.state.invalidCredentials?s.a.createElement("div",{className:"notification is-danger",style:{marginTop:10}},s.a.createElement("h1",null,"Invalid credentails")):null,this.state.isError?s.a.createElement("div",{className:"notification is-danger",style:{marginTop:10}},s.a.createElement("h1",null,"Error Connecting")):null)))}}]),t}(n.Component),y=a(7),w=a(53),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",email:"",password:"",age:"",confirmPassword:"",passwordClass:"input",exclamation:null,submitClass:"button is-info is-outlined",submitState:!0,emailFieldClass:"input",emailFieldAfterRequest:"",isLoading:!1,isEmailValid:!1},a.exclamation=s.a.createElement("div",null,s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})),s.a.createElement("p",{className:"help is-danger"},"Password Length Must Be greater Than 8")),a.onSubmitHandler=a.onSubmitHandler.bind(Object(u.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(u.a)(a)),a.onBlurHandler=a.onBlurHandler.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateSubmit",value:function(){if(this.state.submitState){var e=!1;this.state.password.length>=8&&(e=this.state.confirmPassword===this.state.password);var t=this.state.isEmailValid;if(e&&t&&""!==this.state.name)return this.setState({submitState:!1,submitClass:"button is-info "})}else if(!this.state.submitState){var a=!1;this.state.password.length>=8&&(a=this.state.confirmPassword===this.state.password);var n=this.state.isEmailValid;if(!a||!n||""===this.state.name)return this.setState({submitState:!0,submitClass:"button is-info  is-outlined"})}}},{key:"componentDidUpdate",value:function(){this.validateSubmit()}},{key:"onSubmitHandler",value:function(e){var t=this;this.setState({submitClass:"button is-primary is-loading"});var a=this.state,n=a.email,s=a.name,i=a.password,l=a.age;console.log(localStorage.getItem("name"));var r=JSON.stringify({Email:n,name:s,password:i,age:l}),o=new Headers;o.append("content-type","application/json");var c=new Request("http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com/users",{method:"POST",headers:o,body:r});fetch(c).then(function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.json();case 3:(n=e.sent).token&&(localStorage.setItem("token",n.token),setTimeout((function(){t.props.history.push("/home")}),500)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),setTimeout((function(){t.setState({submitClass:"button is-warning  is-outlined"})}),1e3),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({submitClass:"button is-danger is-outlined"}),console.log(e.message)})),e.preventDefault()}},{key:"onChangeHandler",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value)),this.setState({isSubmitted:!1})}},{key:"onBlurHandler",value:function(e){var t=this;if("password"===e.target.name)return e.target.value.length<8?this.setState({passwordClass:"input is-danger",exclamation:this.exclamation}):this.setState({passwordClass:"input",exclamation:null});if("email"===e.target.name&&w.default.isEmail(e.target.value)){this.setState({isLoading:!0,emailFieldAfterRequest:null});var a=new Headers;a.append("content-type","application/json");var n={method:"GET",headers:a},i=new Request("http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com/users/find/".concat(e.target.value),n);fetch(i).then((function(e){setTimeout((function(){t.setState({isLoading:!1}),400===e.status?t.setState({emailFieldClass:"input is-danger",emailFieldAfterRequest:s.a.createElement("div",null,s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})),s.a.createElement("p",{className:"help is-danger"},"Email Already Taken or Email is Not Valid"))}):200===e.status&&t.setState({isEmailValid:!0,emailFieldClass:"input is-success",emailFieldAfterRequest:s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"}))}),console.log(e.status)}),1e3)})).catch((function(e){console.log(e.message)}))}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{style:{display:"flex",flexDirection:"column|row",alignItems:"center",justifyContent:"center"}},s.a.createElement(b,null)),s.a.createElement("div",{className:"container is-fluid",style:{display:"flex",flexDirection:"column|row",alignItems:"center",justifyContent:"center"}},s.a.createElement("div",{className:"box",style:{display:"flex",flexDirection:"column|row",alignItems:"center",justifyContent:"center",marginTop:10,width:500}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{style:{marginBottom:10,fontWeight:"bold"}},"Sign Up"),s.a.createElement("form",{onSubmit:this.onSubmitHandler},s.a.createElement("div",{className:"field"},s.a.createElement("input",{className:"input",type:"name",name:"name",placeholder:"Name",onChange:this.onChangeHandler,value:this.state.name,onBlur:this.onBlurHandler,required:!0})),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right ".concat(this.state.isLoading?"is-loading":null)},s.a.createElement("input",{className:this.state.emailFieldClass,type:"email",name:"email",placeholder:"Email",onChange:this.onChangeHandler,value:this.state.email,onBlur:this.onBlurHandler,required:!0}),this.state.emailFieldAfterRequest),this.state.isLoading?s.a.createElement("progress",{className:"progress is-small is-primary",max:"100"},"30%"):null),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{className:this.state.passwordClass,type:"password",name:"password",placeholder:"Password",onChange:this.onChangeHandler,value:this.state.password,onBlur:this.onBlurHandler,required:!0}),this.state.exclamation)),s.a.createElement("div",{className:"field"},s.a.createElement("input",{className:"input",type:"number",name:"age",placeholder:"age",onChange:this.onChangeHandler,value:this.state.age,required:!0})),s.a.createElement("div",{className:"field"},s.a.createElement("input",{className:"input",type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.onChangeHandler,value:this.state.confirmPassword,required:!0})),s.a.createElement("button",{disabled:this.state.submitState,className:this.state.submitClass,style:{marginTop:20},type:"submit"},"Sign Up"))))))}}]),t}(n.Component);var C=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(y.a,{exact:!0,path:"/registration",component:S}),s.a.createElement(y.a,{exact:!0,path:"/home",component:h}),s.a.createElement(y.a,{exact:!0,path:"/login",component:E}))},N=a(25);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(N.a,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,a){e.exports=a(122)},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){e.exports=a.p+"static/media/complainify.bc7f0fe6.png"}},[[44,1,2]]]);
//# sourceMappingURL=main.087f719b.chunk.js.map